# yt-dlp Streaming Service Configuration
# Copy this file to .env and modify as needed

# ===================
# Server Configuration
# ===================
HOST=0.0.0.0
PORT=8000

# ===================
# Download Settings
# ===================
## Metadata extraction timeout in seconds (default: 300 = 5 minutes)
METADATA_TIMEOUT_SECONDS=300

# Maximum download time in seconds (default: 1800 = 30 minutes)
DOWNLOAD_TIMEOUT_SECONDS=1800

# Default video quality: best, high (1080p), medium (720p), low (480p), audio
DEFAULT_QUALITY=high

# Number of concurrent fragment downloads (1-16)
DEFAULT_CONCURRENT_FRAGMENTS=5

# Default output format: mp4, mkv, webm, m4a, mp3
DEFAULT_MERGE_FORMAT=mp4

# ===================
# Streaming Settings
# ===================
# Chunk size for streaming in bytes (default: 1048576 = 1MB)
STREAM_CHUNK_SIZE=1048576

# ===================
# Storage Settings
# ===================
# Temporary download directory
TEMP_DOWNLOAD_DIR=/tmp/yt-dlp-downloads

# Cleanup files on download error
CLEANUP_ON_ERROR=true

# ===================
# Concurrency Settings
# ===================
# Maximum concurrent downloads (prevents server overload)
MAX_CONCURRENT_DOWNLOADS=10

# ===================
# File Size Limits
# ===================
# Maximum allowed file size in bytes (default: 1GB = 1073741824)
MAX_FILE_SIZE_BYTES=1073741824

# ===================
# Docker Compose Only
# ===================
# Host port mapping
HOST_PORT=8000

# Resource limits
CPU_LIMIT=2.0
MEMORY_LIMIT=2G
